---
layout: entry

conf:
  type: country
  subtitle:
    en: Country
    es: Pais
---
{% if page.lang %}
  {% assign language = page.lang %}
{% elsif site.collections[page.collection].lang %}
  {% assign language = site.collections[page.collection].lang %}
{% endif %}

{% case site.collections[page.collection].lang %}
  {% when 'en' %}
    {% assign col = 'en_state' %}
  {% when 'es' %}
    {% assign col = 'es_state' %}
{% endcase %}

{% assign has_states = false %}
{% for state in site[col] %}
  {% if state.country == page.id %}
    {% assign has_states = true %}
  {% endif %}
{% endfor %}

<script>
    CS.countryId = '{{page.id}}';
    CS.countryHasStates = {{has_states}};
</script>

<div ng-app="countryApp">
  <div class="row--full intro">
    <div class="row--contained">
      <dl class="meta-details">
        {% case language %}
        {% when 'en' %}
  
        <dt>Gdp</dt>
        <dd>$2,396bn</dd>
        <dt>Seven-year Economic Growth Rate</dt>
        <dd>6%</dd>
        <dt>Population</dt>
        <dd>198m</dd>
        <dt>Total Clean Energy Investments</dt>
        <dd>$82.2bn</dd>
        <dt>Installed Power Capacity</dt>
        <dd>123gw</dd>
        <dt>Renewable Share</dt>
        <dd>13%</dd>
        <dt>Total Clean Energy Generation</dt>
        <dd>57,400gwh</dd>
        <dt>Top Energy Authority</dt>
        <dd>Ministry Of Mines & Energy</dd>
  
        {% when 'es' %}
  
        <dt>Gdp</dt>
        <dd>$2,396bn</dd>
        <dt>Seven-year Economic Growth Rate</dt>
        <dd>6%</dd>
        <dt>Population</dt>
        <dd>198m</dd>
        <dt>Total Clean Energy Investments</dt>
        <dd>$82.2bn</dd>
        <dt>Installed Power Capacity</dt>
        <dd>123gw</dd>
        <dt>Renewable Share</dt>
        <dd>13%</dd>
        <dt>Total Clean Energy Generation</dt>
        <dd>57,400gwh</dd>
        <dt>Top Energy Authority</dt>
        <dd>Ministry Of Mines & Energy</dd>
  
        {% endcase %}
  
      </dl>
      {% include static_map.html %}
    </div>
  </div>
  
  <div class="row--contained">
  
    <div class="col--main prose-copy">
      <h2>Summary</h2>
      {{ content }}
    </div>
  
    <div class="col--sec prose-copy" ng-controller="StatsController as statsCtrl" ng-cloak>
      {% case language %}
      {% when 'en' %}
        <h2>Performance</h2>
        <dl class="stats-list">
          <dt>Overall Rank</dt>
          <dd>%% statsCtrl.countryStats.overall_ranking | leadingZero:2 %%</dd>
          <dt>Regional Rank</dt>
          <dd>%% statsCtrl.countryStats.regional_ranking | leadingZero:2 %%</dd>
          <dt>Score</dt>
          <dd>%% statsCtrl.countryStats.value | round:2 %%</dd>
        </dl>
        <ul class="ctas-list">
          <li><a class="bttn bttn-cta go" href="#" title="Compare to">Compare to</a></li>
          <li ng-if="statsCtrl.policyCount > 0"><a class="bttn bttn-cta go" href="{{ site.domain }}/en/policies/#/?country={{ page.id | upcase }}" title="View policies">View policies <span class="badge">%% statsCtrl.policyCount %%</span></a></li>
        </ul>
  
      {% when 'es' %}
  
        <h2>Performance</h2>
        <dl class="stats-list">
          <dt>Overall Rank</dt>
          <dd>%% statsCtrl.countryStats.overall_ranking | leadingZero:2 %%</dd>
          <dt>Regional Rank</dt>
          <dd>%% statsCtrl.countryStats.regional_ranking | leadingZero:2 %%</dd>
          <dt>Score</dt>
          <dd>%% statsCtrl.countryStats.value | round:2 %%</dd>
        </dl>
        <ul class="ctas-list">
          <li><a class="bttn bttn-cta go" href="#" title="Compare to">Compare to</a></li>
          <li ng-if="statsCtrl.policyCount > 0"><a class="bttn bttn-cta go" href="{{ site.domain }}/es/politicas/#/?country={{ page.id | upcase }}" title="View policies">View policies <span class="badge">%% statsCtrl.policyCount %%</span></a></li>
        </ul>
  
      {% endcase %}
    </div>
  
  </div>
  
  <div class="row--contained">
    
    <!-- Template for the In Detail tab -->
    <script type="text/ng-template" id="in_detail.html">
      <section id="country-detail">
        {% include parameter_detail.html %}
      </section>
    </script>
    
    <!-- Template for the States tab -->
    <script type="text/ng-template" id="states.html">
      {% include state_list_table.html %}
    </script>
    
    <!-- Template for the Case Study tab -->
    <!-- <script type="text/ng-template" id="case_study.html">
      <section id="country-case-study">
        <h1 class="visually-hidden">Case Study</h1>
        <div class="prose">
          <p>Case Study content</p>
        </div>
      </section>
    </script> -->
    
    <!-- END TEMPLATES -->
    
    <ul class="nav nav-tabs" role="tablist" id="section-switch" ng-controller="CountryTabsController as navCtrl">
      {% case language %}
      {% when 'en' %}
        <li ng-class="{active: navCtrl.isActive('details')}"><a href="#/details" title="In detail">In detail</a></li>
        {% if has_states %}
        <li ng-class="{active: navCtrl.isActive('states')}"><a href="#/states" title="States/Provinces">States/Provinces</a></li>
        {% endif %}
        <!-- <li ng-class="{active: navCtrl.isActive('case_study')}"><a href="#/case-study" title="Case study">Case study</a></li> -->
  
      {% when 'es' %}
  
        <li ng-class="{active: navCtrl.isActive('details')}"><a href="#/details" title="In detail">In detail ES</a></li>
        {% if has_states %}
        <li ng-class="{active: navCtrl.isActive('states')}"><a href="#/states" title="States/Provinces">States/Provinces ES</a></li>
        {% endif %}
        <!-- <li ng-class="{active: navCtrl.isActive('case_study')}"><a href="#/case-study" title="Case study">Case study ES</a></li> -->
      {% endcase %}
    </ul>
    <div ng-view></div>
  
  </div>
</div>
